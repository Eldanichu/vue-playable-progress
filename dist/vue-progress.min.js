var VueProgress=function(){"use strict";function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==r)return;var i,o,a=[],s=!0,n=!1;try{for(r=r.call(t);!(s=(i=r.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){n=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(n)throw o}}return a}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var r={name:"VueProgress",props:{id:{type:String,default:"$$progress"},width:{type:[Number,String],default:485},position:{type:String,default:"bottom-left"},offset:{type:Array,default:function(){return[600,40]}},draws:{type:Object,default:function(){return{}}},bInterval:{type:[String,Number],default:300},tags:{type:Boolean,default:!1},hoverTip:{type:Boolean,default:!0},Tip:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}}},data:function(){return{isHover:!1,isPlaying:!1,rrect:{width:0,left:0,clickedLeft:0},dataIndex:0,floatIndex:0,interval:null,blocks:[]}},computed:{_isRight:function(){return this.position.match("right")},_isTop:function(){return this.position.match("top")},_computedStyles:function(){var t={};t.width=this.get_width();var e=this._isRight?"right":"left",r=this._isTop?"top":"bottom",i=this.draws[e]&&this.draws[e].show?0:-380;return t[e]="".concat(i+this.offset[0],"px"),t[r]="".concat(this.offset[1],"px"),t},_hoverStyles:function(){return{width:this.isHover?this.rrect.left+"px":0,opacity:~~!!this.isHover}},hoverTipStyles:function(){var t={};return t.left=this.rrect.left+"px",t},fixedTipStyles:function(){var t={};return t.left=this.rrect.clickedLeft+"px",t},_playedStyles:function(){return{width:this.rrect.clickedLeft+"px",transition:"width linear ".concat(this.isPlaying?"0s":".2s",", opacity linear .1s")}}},mounted:function(){var t=this;this.$nextTick((function(){t.getBlockWidth(),document.body.onresize=function(){t.getBlockWidth()}}))},watch:{dataIndex:function(t){this.$emit("bPlaying",{state:this.isPlaying,index:t})}},methods:{emove:function(t){if(this.isHover){var e=this._getComputedRects(),r=t.pageX-e.left;this.rrect.left=r<0?0:r;var i=this._getComputedElement();this.floatIndex=i.floatIndex,this.$emit("bHover",{index:this.floatIndex})}},eclick:function(t){var e=this._getComputedRects(),r=t.pageX-e.left;this.rrect.clickedLeft=r<0?0:r;var i=this._getComputedElement();this.dataIndex=i.clickIndex,this.$emit("bClick",{index:this.dataIndex})},ehover:function(){this.isHover=!0},eleave:function(){this.isHover=!1,this.$set(this.rrect,"left",0),this.floatIndex=0},progress_state_update:function(){var t,e=this;this.interval=setInterval((function(){e.dataIndex<e.data.length-1?(t=e._getComputedElement(),++e.dataIndex,e.rrect.clickedLeft=e.dataIndex*t.blockWidth):(e.dataIndex===e.data.length-1&&(t=e._getComputedElement(),e.rrect.clickedLeft=e.data.length*t.blockWidth),clearInterval(e.interval),e.isPlaying=!1)}),1e3*this.bInterval)},playPause:function(){this.isPlaying=!this.isPlaying,this.isPlaying?this.progress_state_update():(clearInterval(this.interval),this.$emit("bStopped",{state:!1,index:this.dataIndex}),this.interval=0)},get_width:function(){return"string"==typeof this.width?parseFloat(this.width)+"%":"number"==typeof this.width?parseFloat(this.width)+"px":void 0},_getComputedRects:function(){return document.getElementById(this.id).getClientRects()[0]},_getComputedElement:function(){var t=this._getComputedRects().width,e=this.data.length,r=t/e,i=this.rrect.left/t,o=this.rrect.clickedLeft/t,a=this.dataIndex,s=e*i,n=e*o,d=Math.round(s-.5).toFixed(0),l=Math.round(n-.5).toFixed(0);return{blockWidth:r,widthPercent:i,indexPercent:a/e,floatIndex:d<0?0:d,clickIndex:l<0?0:l}},getBlockWidth:function(){var t=this._getComputedRects().width;this.rrect.width=t;for(var e=this.data.length,r=t/e,i=[],o=0;o<e;++o)i.push({start:r});this.blocks=i}}};function i(t,e,r,i,o,a,s,n,d,l){"boolean"!=typeof s&&(d=n,n=s,s=!1);const c="function"==typeof r?r.options:r;let p;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),i&&(c._scopeId=i),a?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=p):e&&(p=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,n(t))}),p)if(c.functional){const t=c.render;c.render=function(e,r){return p.call(r),t(e,r)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,p):[p]}return r}const o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function a(t){return(t,e)=>function(t,e){const r=o?e.media||"default":t,i=n[r]||(n[r]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let r=e.source;if(e.map&&(r+="\n/*# sourceURL="+e.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===s&&(s=document.head||document.getElementsByTagName("head")[0]),s.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(r),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(r),o=i.element.childNodes;o[t]&&i.element.removeChild(o[t]),o.length?i.element.insertBefore(e,o[t]):i.element.appendChild(e)}}}(t,e)}let s;const n={};var d=i({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-progress-bar",style:t._computedStyles},[r("div",{staticClass:"play-pause"},[r("div",{staticClass:"action-btn"},[r("i",{class:["fa",t.isPlaying?"fa-pause-circle-o":"fa-play-circle-o"],on:{click:t.playPause}})])]),t._v(" "),r("div",{staticClass:"progress-bar",attrs:{id:t.id},on:{click:t.eclick,mousemove:t.emove,mouseover:t.ehover,mouseleave:t.eleave}},[r("div",{staticClass:"hover-fill",style:t._hoverStyles}),t._v(" "),r("div",{staticClass:"played-fill",style:t._playedStyles}),t._v(" "),t.tags?r("div",{staticClass:"tags"},[t._l(t.blocks,(function(t,e){return[r("span",{key:t.start+Math.random(),staticClass:"tag__item",style:{width:t.start+"px"}})]}))],2):t._e()]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isHover&&t.hoverTip&&t.data.length,expression:"isHover && hoverTip && data.length"}],staticClass:"timecode time-code ghost-timecode",style:t.hoverTipStyles},[r("div",{staticClass:"box"},[t._v("\n      "+t._s(t.data[t.floatIndex])+"\n      "),t._t("hover-box")],2)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length,expression:"data.length"}],staticClass:"timecode main-timecode",style:t.fixedTipStyles},[r("div",{staticClass:"box"},[t._v("\n      "+t._s(t.data[t.dataIndex])+"\n      "),t._t("box")],2),t._v(" "),r("div",{class:["box-details"]},[t._t("boxInfo")],2)])])},staticRenderFns:[]},(function(t){t&&t("data-v-49310845_0",{source:'.d-progress-bar[data-v-49310845]{position:absolute}.d-progress-bar .play-pause[data-v-49310845]{position:absolute;left:-10%;top:-17px;z-index:20;color:#fff}.d-progress-bar .play-pause .action-btn[data-v-49310845]{font-size:1.8rem}.d-progress-bar .progress-bar[data-v-49310845],.d-progress-bar .progress-bar .hover-fill[data-v-49310845],.d-progress-bar .progress-bar .played-fill[data-v-49310845]{position:relative;height:8px;background-color:#8d8d8d;border-radius:3px}.d-progress-bar .progress-bar .hover-fill[data-v-49310845],.d-progress-bar .progress-bar .played-fill[data-v-49310845]{position:absolute;top:0;background-color:#e2d3ae;transition:width linear .1s,opacity linear .1s}.d-progress-bar .progress-bar .played-fill[data-v-49310845]{position:absolute;top:0;background-color:#fff}.d-progress-bar .progress-bar .tags[data-v-49310845]{position:relative;top:100%;text-align:center;font-size:12px}.d-progress-bar .progress-bar .tags .tag__item[data-v-49310845]{display:inline-block;border-right:1px solid #fff;color:#fff}.d-progress-bar .progress-bar .tags .tag__item[data-v-49310845]:last-child{border-right:none}.d-progress-bar .timecode[data-v-49310845]{font-size:12px;position:absolute;display:block;box-sizing:border-box;top:-2.4em}.d-progress-bar .timecode .box[data-v-49310845]{height:1.8em;box-sizing:border-box;padding:.1em .8em;white-space:nowrap;text-align:center;display:table-cell;vertical-align:middle;border-radius:.5em}.d-progress-bar .timecode .box[data-v-49310845]::before{cursor:default;top:100%;left:2em;content:" ";height:0;width:0;position:absolute;border:.5em solid transparent}.d-progress-bar .timecode.main-timecode[data-v-49310845]{font-size:12px;margin-left:-2.7em}.d-progress-bar .timecode.main-timecode .box[data-v-49310845]{cursor:default;position:relative;background-color:#d49500;color:#fff;box-shadow:0 0 4px 0 #000}.d-progress-bar .timecode.main-timecode .box[data-v-49310845]::before{border-top-color:#d49500}.d-progress-bar .timecode.ghost-timecode[data-v-49310845]{display:inline-block;opacity:1;pointer-events:none;margin-left:-2.7em;z-index:1;font-size:12px}.d-progress-bar .timecode.ghost-timecode .box[data-v-49310845]{box-shadow:none;cursor:pointer;color:#fff;background-color:rgba(68,65,65,.84)}.d-progress-bar .timecode.ghost-timecode .box[data-v-49310845]::before{border-top-color:rgba(68,65,65,.84)}.d-progress-bar .timecode .box-details[data-v-49310845]{transition:.3s opacity .2s,left linear .3s;display:block;min-height:20px;min-width:110px;border-radius:.5em;position:absolute;bottom:100%;margin-bottom:5px;padding:.1em .8em}.d-progress-bar .timecode .box-details.light[data-v-49310845]{color:#000;background-color:rgba(255,255,255,.85)}.d-progress-bar .timecode .box-details.dark[data-v-49310845]{color:#fff}',map:void 0,media:void 0})}),r,"data-v-49310845",false,undefined,!1,a,void 0,void 0),l=function(){var t=d;return t.install=function(e){e.component("VueProgress",t)},t}(),c=Object.freeze({__proto__:null,default:l});return Object.entries(c).forEach((function(e){var r=t(e,2),i=r[0],o=r[1];"default"!==i&&(l[i]=o)})),l}();